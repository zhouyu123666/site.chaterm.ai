import{_ as t,c as n,o as a,a1 as i}from"./chunks/framework.DDNAyvCW.js";const u=JSON.parse('{"title":"Quickly built AI agents by using AWS Bedrock","description":"","frontmatter":{"date":"2025-07-31T00:00:00.000Z","title":"Quickly built AI agents by using AWS Bedrock","author":"Maisie Ouyang","category":"Technical","tags":["Chaterm","Bedrock"],"blog":"post","aside":"left","sidebar":false,"prev":false,"next":false},"headers":[],"relativePath":"blog/posts/bedrock.md","filePath":"blog/posts/bedrock.md"}'),o={name:"blog/posts/bedrock.md"};function s(r,e,l,c,p,d){return a(),n("div",null,e[0]||(e[0]=[i('<p>This article details how to build a high-efficiency AI-powered operations and maintenance (O&amp;M) platform, Chatem, based on Amazon Bedrock. Through deep engineering and integration with AWS services, it revolutionizes traditional O&amp;M workflows. This is not only a product implementation case study but also an innovative exploration of technical architecture.</p><hr><p>With the continuous development of AI technology and the ongoing innovation of AWS services, we have reason to believe that AI-powered O&amp;M platforms built on Amazon Bedrock will play an even more important role in the future, providing enterprises with a more intelligent, efficient, and secure O&amp;M experience.</p><h2 id="background" tabindex="-1">Background <a class="header-anchor" href="#background" aria-label="Permalink to &quot;Background&quot;">​</a></h2><h3 id="in-depth-analysis-of-pain-points-in-o-m-scenarios" tabindex="-1">In-depth Analysis of Pain Points in O&amp;M Scenarios <a class="header-anchor" href="#in-depth-analysis-of-pain-points-in-o-m-scenarios" aria-label="Permalink to &quot;In-depth Analysis of Pain Points in O&amp;M Scenarios&quot;">​</a></h3><p>Current cloud computing and DevOps practices enable developers to manage hundreds or thousands of servers and containers, but the resulting O&amp;M complexity has also increased dramatically. The core pain points faced by O&amp;M engineers are mainly reflected in the following aspects:</p><ul><li><p>Cumbersome batch operations: In large-scale distributed systems, O&amp;M engineers often need to perform the same operations on hundreds of servers. Traditional tools such as AWS Systems Manager Agent (SSM Agent), while capable of batch processing of cluster machines, lack the support of large-scale models and have limited intelligence.</p></li><li><p>High Knowledge Barrier: The depth and breadth of the operations and maintenance (O&amp;M) technology stack constitute a significant knowledge barrier. O&amp;M personnel need to be proficient in multiple command-line tools, scripting languages, regular expressions, and system configuration. This full-stack knowledge requirement, from the operating system kernel to the application layer, means that novice engineers often need more than six months of practical experience to handle routine problems.</p></li><li><p>Complex Troubleshooting: In a microservice architecture, troubleshooting evolves into a complex distributed tracing challenge. When users report problems, O&amp;M personnel need to retrieve hundreds of logs across the API gateway, order service, and payment service using the ELK Stack, and then correlate the call chain using Jaeger tracing IDs. This cross-service, cross-component log correlation analysis often requires senior engineers to spend several hours to pinpoint the specific problem.</p></li></ul><p>These pain points make DevOps&#39; daily work tedious and high-pressure, urgently requiring an intelligent solution that can lower the barrier to entry, improve efficiency, and reduce risks.</p><h3 id="other-issues-with-operations-and-maintenance-products" tabindex="-1">Other Issues with Operations and Maintenance Products <a class="header-anchor" href="#other-issues-with-operations-and-maintenance-products" aria-label="Permalink to &quot;Other Issues with Operations and Maintenance Products&quot;">​</a></h3><p>With the development of AI technology, various agent tools have emerged in the market attempting to address pain points in development and operations and maintenance. However, most suffer from the following limitations:</p><ul><li><p>Limitations of General-Purpose AI Assistants: While general-purpose AI assistants can generate shell commands or configuration snippets, users need to switch back and forth between application software and terminals, copying and pasting commands, resulting in fragmented and inefficient workflows. These tools lack deep optimization for operations and maintenance scenarios and cannot directly connect to and manage remote servers.</p></li><li><p>Insufficient Intelligence in Traditional Terminal Tools: Traditional terminal tools such as Xshell and MobaXterm, while providing basic SSH connection and session management functions, lack AI capabilities and cannot understand natural language commands or automate complex task processes. Users still need to manually input precise commands and memorize numerous parameters and syntax.</p></li><li><p>Closed Nature of Cloud Platform Built-in Tools: Management tools provided by major cloud platforms are typically only applicable to their own ecosystems, making cross-platform and cross-cloud management difficult. This creates new management fragmentation problems in multi-cloud environments.</p></li></ul><p>In contrast, Chatem, as a smart terminal specifically designed for operations and maintenance (O&amp;M) scenarios, offers the following unique advantages:</p><ul><li><p>Deep O&amp;M Scenario Adaptation: Chatem is deeply optimized for O&amp;M needs and pain points, capable of understanding and executing complex O&amp;M tasks such as service deployment, troubleshooting, and performance optimization.</p></li><li><p>Direct Terminal Integration: The AI ​​assistant is directly embedded into the application, supporting resource integration via SSH connection to remote servers. Specific commands can be executed directly within the machine terminal, eliminating the need to switch between multiple tools.</p></li><li><p>Flexible Multi-Mode Selection: Offers two interaction modes: Command and Agent, to meet different scenario requirements. Command mode is similar to &quot;assisted driving,&quot; where AI assists the human in generating instructions; Agent mode is like &quot;intelligent driving,&quot; where the human provides the goal, and the AI ​​autonomously plans and executes the task.</p></li><li><p>Enterprise-Grade Security Design: Employs enterprise-grade security mechanisms such as zero-trust authentication, workspace and permission management, and operation auditing to ensure that security is not sacrificed while improving efficiency.</p></li></ul><p>The emergence of Chaterm marks a shift in operations and maintenance tools from the &quot;command-line era&quot; to the &quot;natural language era,&quot; providing operations and maintenance personnel with an experience similar to that of a programmer using Cursor.</p><h2 id="introduction-and-architecture-design-of-chaterm" tabindex="-1">Introduction and Architecture Design of Chaterm <a class="header-anchor" href="#introduction-and-architecture-design-of-chaterm" aria-label="Permalink to &quot;Introduction and Architecture Design of Chaterm&quot;">​</a></h2><p>Chaterm is an open-source AI-powered intelligent terminal tool designed specifically for cloud resource management and operations and maintenance scenarios. It revolutionizes the way developers interact with terminals through natural language interaction. Chaterm employs a modern layered architecture to ensure high performance, security, and scalability:</p><p><strong>Frontend Layer:</strong></p><ul><li><p>A cross-platform desktop application built on Electron, providing a unified user interface and terminal experience.</p></li><li><p>Responsive UI components implemented with Vue and TypeScript, supporting theme customization and layout adjustments.</p></li><li><p>Integrated Monaco editor providing code highlighting and intelligent suggestions.</p></li></ul><p><strong>Middleware Layer:</strong></p><ul><li><p>SSH connection management module: Responsible for establishing and maintaining secure connections with remote servers.</p></li><li><p>Session management system: Handles the creation, switching, and persistence of multi-terminal sessions.</p></li><li><p>Command parsing engine: Analyzes user input, extracting intent and parameters.</p></li><li><p>AI agent coordinator: Schedules different processing flows based on the user-selected mode (Chat/Command/Agent).</p></li></ul><p><strong>Backend Services:</strong></p><ul><li><p>AI model interface: Integrates with AI service providers such as OpenAI and Amazon Bedrock.</p></li><li><p>Credential management system: Securely stores and manages sensitive information such as SSH keys and API tokens.</p></li><li><p>Log and telemetry system: Collects operation logs and performance metrics, supporting auditing and optimization.</p></li><li><p>Plugin system: Supports extended functionality, such as custom tools and integrations.</p></li></ul><p><strong>Data Storage:</strong></p><ul><li><p>Local encrypted storage: Saves user configurations, session history, and credential information.</p></li><li><p>Optional cloud synchronization: Supports secure synchronization of configurations and sessions across multiple devices.</p></li></ul><p><strong>Security Layers:</strong></p><ul><li><p>End-to-end encryption: Protects all communication content.</p></li><li><p>Access control system: Role-based access control.</p></li><li><p>Audit logs: Records all critical operations.</p></li></ul><p>This architectural design enables Chatem to provide powerful functionality while ensuring high security and scalability, meeting the needs of everyone from individual developers to large enterprise teams.</p><h2 id="specific-practices-of-core-technology-breakthroughs" tabindex="-1">Specific Practices of Core Technology Breakthroughs <a class="header-anchor" href="#specific-practices-of-core-technology-breakthroughs" aria-label="Permalink to &quot;Specific Practices of Core Technology Breakthroughs&quot;">​</a></h2><h3 id="agent-design-and-optimization" tabindex="-1">Agent Design and Optimization <a class="header-anchor" href="#agent-design-and-optimization" aria-label="Permalink to &quot;Agent Design and Optimization&quot;">​</a></h3><p>Chaterm&#39;s Agent mode is one of its most innovative features, elevating AI from a simple command generator to a true operations and maintenance assistant. The core concept of Agent design is &quot;goal-oriented&quot; rather than &quot;command-oriented.&quot; Users only need to describe the goals they want to achieve, and the Agent will autonomously plan and execute the necessary steps.</p><p>Technical Optimization of System Prompt Engineering: Chaterm&#39;s Agent is based on carefully designed system prompts, enabling AI to accurately understand operations and maintenance scenarios. We position the Agent as a &quot;senior operations expert with 20 years of experience,&quot; possessing expertise in network security, troubleshooting, performance optimization, and other areas, as well as strong problem-solving capabilities. This role allows the Agent to think from the perspective of a professional operations engineer, providing solutions that better align with best practices.</p><p>Task Planning and Execution Engine: We have meticulously optimized task planning, enabling the Agent to automatically break down complex tasks into a series of logical steps. For example, when a user requests to &quot;deploy a Java + Vue + MySQL front-end and back-end web project environment,&quot; the Agent will automatically plan steps such as checking system versions, installing JDK, installing Node.js, installing MySQL, and configuring the database, executing them in the correct dependency order.</p><p>Adaptive Execution and Error Recovery Mechanism: Unlike simple script execution, the Agent is adaptive, dynamically adjusting subsequent plans based on the results of each step. When encountering errors, the Agent attempts to understand the cause, provides solutions, and adjusts the execution path if necessary. For example, if a package installation fails, the Agent will automatically check for source configuration issues, network problems, or version compatibility issues, and take appropriate measures.</p><p>Context Awareness and State Management: We have deeply optimized the context awareness and state management of the Chatterm agent. First, the agent maintains context information during execution, ensuring subsequent operations are based on previous results, and provides context-aware windows for alerts and appropriate overflow prevention mechanisms. In terms of task management, Chatterm supports task resumption and continuation. We have also optimized context management through various methods, such as building a context tracker, marking and processing duplicate content in the context, and intelligent truncation.</p><h3 id="tool-system-design-and-optimization-the-tool-system-is-the-core-support-for-chatterm-agent-s-capabilities-enabling-ai-to-interact-securely-and-efficiently-with-the-operating-system-and-various-tools" tabindex="-1">Tool System Design and Optimization: The tool system is the core support for Chatterm Agent&#39;s capabilities, enabling AI to interact securely and efficiently with the operating system and various tools. <a class="header-anchor" href="#tool-system-design-and-optimization-the-tool-system-is-the-core-support-for-chatterm-agent-s-capabilities-enabling-ai-to-interact-securely-and-efficiently-with-the-operating-system-and-various-tools" aria-label="Permalink to &quot;Tool System Design and Optimization: The tool system is the core support for Chatterm Agent&#39;s capabilities, enabling AI to interact securely and efficiently with the operating system and various tools.&quot;">​</a></h3><p>Tool Permissions and User Permission Confirmation: Chatterm implements a fine-grained tool permission control system. Each tool call includes a <code>requires_approval</code> parameter, indicating whether user confirmation is required for the operation. High-risk operations (such as deleting files, modifying system configurations, and network operations) require user approval by default, while low-risk operations (such as reading files and querying status) can be executed automatically. This design balances automation efficiency and operational security.</p><p>Command Security Checks:</p><p>Chaterm performs multiple security checks before executing any command:</p><ol><li><p>Syntax Check: Ensures correct command formatting, preventing unexpected results due to syntax errors.</p></li><li><p>Permission Check: Verifies whether the current user has permission to execute the command.</p></li><li><p>Risk Assessment: Analyzes the potential impact of the command and provides additional warnings for high-risk commands (such as recursive deletion).</p></li><li><p>Sandbox Pre-execution: Pre-executes certain commands in an isolated environment to assess their impact.</p></li></ol><p>This multi-layered context management enables the Agent to provide a consistent interactive experience, maintaining state consistency even in complex, multi-step tasks.</p><h3 id="ai-gateway-design-and-optimization" tabindex="-1">AI Gateway Design and Optimization <a class="header-anchor" href="#ai-gateway-design-and-optimization" aria-label="Permalink to &quot;AI Gateway Design and Optimization&quot;">​</a></h3><p>We built an enterprise-grade AI Gateway to implement model management and intelligent routing, providing users with flexible and efficient AI services.</p><p>Multi-Model Support and Management:</p><p>Through the AI ​​Gateway, users can quickly and seamlessly switch to different models as needed. The AI ​​Gateway is responsible for the unified management of these models, providing a consistent interface and experience.</p><h3 id="agent-observability-construction-evaluation-and-optimization" tabindex="-1">Agent Observability Construction, Evaluation, and Optimization <a class="header-anchor" href="#agent-observability-construction-evaluation-and-optimization" aria-label="Permalink to &quot;Agent Observability Construction, Evaluation, and Optimization&quot;">​</a></h3><p>Chaterm, built on Amazon Web Services (EKS), provides a real-time agent observability system for comprehensive monitoring, evaluation, and continuous optimization of agent behavior.</p><p>End-to-End Tracking: The entire agent execution process is recorded, with each step recorded as a tracking point, including input, output, execution time, and resource consumption.</p><p>Performance Metric Monitoring: The system collects multi-dimensional performance metrics, including:</p><ol><li><p>Response Time: The time from user input to agent response.</p></li><li><p>Execution Accuracy: The degree to which the agent&#39;s execution results match the expected goals.</p></li><li><p>Token Usage: Token consumption for different models and task types.</p></li><li><p>Error Rate: The error occurrence rate and type distribution during agent execution.</p></li></ol><p>Agent Evaluation and Optimization: We comprehensively evaluate and continuously optimize agent capabilities through end-to-end agent evaluation methods and core component-level agent evaluation methods.</p><p>End-to-end agent evaluation methods include task completion, the toxicity, illusion, and quality of generated content. The core component-level agent evaluation methodology includes assessments of complex task decomposition capabilities and thinking quality, as well as tool usage efficiency and accuracy. Agent capabilities are continuously optimized based on the evaluation results.</p><h3 id="inference-speed-​​optimization" tabindex="-1">Inference Speed ​​Optimization <a class="header-anchor" href="#inference-speed-​​optimization" aria-label="Permalink to &quot;Inference Speed ​​Optimization&quot;">​</a></h3><p>Chaterm leverages multiple technologies provided by Amazon Bedrock to optimize inference speed, significantly improving the user experience.</p><p>Bedrock Prompt Router: We implemented dynamic model routing to provide users with the most cost-effective experience while maintaining consistent quality. Chaterm automatically selects the most suitable model based on the complexity of user commands, context length, and task type, predicting quality scores, latency, and costs.</p><p>Bedrock Prompt Cache: Chaterm also utilizes Amazon Bedrock&#39;s prompt caching feature to cache frequently used prompts, further reducing latency and cost. In operational scenarios, static content such as system prompts and tool definitions consumes a large number of tokens. Caching this content significantly reduces the Time To First Token (TTFT) for each request, thereby optimizing and improving overall inference speed.</p><h2 id="considerations-for-enterprise-level-operations-and-maintenance-scenarios" tabindex="-1">Considerations for Enterprise-Level Operations and Maintenance Scenarios <a class="header-anchor" href="#considerations-for-enterprise-level-operations-and-maintenance-scenarios" aria-label="Permalink to &quot;Considerations for Enterprise-Level Operations and Maintenance Scenarios&quot;">​</a></h2><h3 id="usage-strategies-in-private-subnet-environments" tabindex="-1">Usage Strategies in Private Subnet Environments <a class="header-anchor" href="#usage-strategies-in-private-subnet-environments" aria-label="Permalink to &quot;Usage Strategies in Private Subnet Environments&quot;">​</a></h3><p>For enterprise-level operations and maintenance teams, production environments are typically deployed in private subnets and accessed via bastion hosts. In this architecture, the use of Chatem requires special consideration:</p><p>Command Mode vs. Agent Mode: In a private subnet environment, due to network isolation, Agent mode may face connection limitations. In this case, Command mode becomes a more practical choice. Users can connect to servers in the private subnet through a bastion host, then use Chatem&#39;s Command mode to generate commands, which are then executed in the current session after user confirmation.</p><p>Jump Host Configuration: Chatem supports configuring SSH jump hosts (Jump Hosts), using ProxyCommand or ProxyJump functions to connect to servers in the private subnet through the bastion host. This maintains a good user experience even in environments with strict network isolation.</p><p>Local Model Deployment: For enterprises with high security requirements, deploying local LLM models on the intranet can be considered to prevent sensitive information from being leaked. Chatem supports connecting to locally deployed model services, ensuring that data does not leave the enterprise boundary.</p><h3 id="database-management-scenario-adaptation" tabindex="-1">Database Management Scenario Adaptation <a class="header-anchor" href="#database-management-scenario-adaptation" aria-label="Permalink to &quot;Database Management Scenario Adaptation&quot;">​</a></h3><p>Chaterm is not only suitable for server management but also effectively supports database operation and maintenance scenarios:</p><p>Self-built Database Support: For self-built databases (such as MySQL, PostgreSQL, MongoDB, etc.), Chatterm can directly connect to the database server via SSH to execute database commands, analyze performance issues, optimize queries, and perform other operations.</p><p>AWS Managed Database Support: For managed database services such as AWS RDS, Chatterm provides support in the following ways:</p><ol><li><p>Connect to an EC2 instance with database access permissions, using the instance as a springboard to access RDS.</p></li><li><p>Use AWS CLI commands to manage the configuration, parameter groups, snapshots, etc., of RDS instances.</p></li><li><p>Connect to RDS through database client tools to execute SQL queries and management operations.</p></li></ol><p>Database Performance Optimization: Chatterm&#39;s AI capabilities excel in database performance optimization. It can analyze slow query logs, provide index optimization suggestions, identify connection bottlenecks, and help DBAs quickly resolve performance issues.</p><h2 id="future-development-direction" tabindex="-1">Future Development Direction <a class="header-anchor" href="#future-development-direction" aria-label="Permalink to &quot;Future Development Direction&quot;">​</a></h2><p>Chaterm, as an operations and maintenance (O&amp;M) version of Cursor, will focus on the following future development directions:</p><p>Voice Control Functionality: Plans include launching voice command functionality for mobile devices, enabling users to efficiently control servers and cloud resources via voice even in non-office scenarios (including mobile office scenarios). This will further lower the O&amp;M threshold, realizing the vision of completing complex O&amp;M processes simply by speaking.</p><p>Multi-Cloud Management Capabilities: Expand native support for multi-cloud environments such as AWS, Azure, and Google Cloud, providing a unified multi-cloud management interface and experience. Users can use the same natural language commands to perform similar operations on different cloud platforms without switching tools or remembering command differences between platforms.</p><p>Enhanced Team Collaboration: Enhance team collaboration capabilities to support enterprise-level needs such as O&amp;M knowledge sharing, operation auditing, and access control. Team members can share custom command templates, O&amp;M scripts, and best practices to form an organizational-level O&amp;M knowledge base.</p><p>Automated Scenario Orchestration: Develop more advanced automated scenario orchestration capabilities, allowing users to define complex O&amp;M workflows and trigger execution via natural language. For example, users can define a &quot;version release&quot; scenario that includes a series of steps such as code deployment, database migration, service restart, and health checks, and then trigger the entire process with a single command.</p><h2 id="reference" tabindex="-1">Reference <a class="header-anchor" href="#reference" aria-label="Permalink to &quot;Reference&quot;">​</a></h2><ul><li>Website：<a href="https://chaterm.ai/" target="_blank" rel="noreferrer">https://chaterm.ai/</a></li><li>Github：<a href="https://github.com/chaterm/Chaterm" target="_blank" rel="noreferrer">https://github.com/chaterm/Chaterm</a></li></ul>',75)]))}const h=t(o,[["render",s]]);export{u as __pageData,h as default};
